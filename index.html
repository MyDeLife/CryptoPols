<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoPols</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link rel="stylesheet" href="./styles/index.css">
    <link rel="stylesheet" href="./styles/index_events.css">
    <link rel="stylesheet" href="./styles/global.css">
    <link rel="stylesheet" href="./styles/header.css">
    <link rel="stylesheet" href="./styles/footer.css">
    <link rel="stylesheet" href="./styles/feedback_form.css">

    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.3/js/jquery.tablesorter.min.js"
        crossorigin="anonymous"></script>

    <script src="https://cdn.amcharts.com/lib/5/map.js" crossorigin="anonymous"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/usaLow.js" crossorigin="anonymous"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" crossorigin="anonymous"></script>
    <script src="https://cdn.amcharts.com/lib/5/index.js" crossorigin="anonymous"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WDQ4V9VZBT"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-WDQ4V9VZBT');
    </script>

</head>


<body>
    <!-- header.html start -->
    <script>
        $(function () {
            $("#nav-placeholder").load("./html/header.html");
        });
    </script>
    <div id="nav-placeholder"></div>
    <!-- header.html end -->


    <script>
        var contactLink = document.getElementById('contact-link');

        contactLink.addEventListener('click', function (event) {
            event.preventDefault();
            document.getElementById('contact-button').click();
        });
    </script>

    <div id="index-page">

        <section id="index-middle1">
            <div class="map-container">
                <div id="us-avg">
                    <h2>Sentiment in Congress</h2>
                    <div id="congress-avg"></div>
                    <p class="notation">*Average of all members of Congress in the Senate and House of Representatives
                    </p>
                </div>
                <div id="demrep-content">
                    <h2>Sentiment by Party</h2>
                    <div class="map-legend">
                        <span class="label anti">Anti</span>
                        <div class="gradient-container">
                            <div class="gradient"></div>
                            <div class="arrow dems">
                                <div class="label-dems">
                                    <span>Dems</span>
                                    <i class="fas fa-arrow-down"></i>
                                </div>
                            </div>
                            <div class="arrow reps">
                                <div class="label-reps">
                                    <span>Reps</span>
                                    <i class="fas fa-arrow-down"></i>
                                </div>
                            </div>
                        </div>
                        <span class="label pro">Pro</span>
                    </div>
                </div>
            </div>
            <h3 class="fancy">States View</h3>
            <div id="chartdiv"></div>
        </section>

        <h3 id="rec-events-fancy-header" class="fancy">Recent Events<span id="last-6-months"></br>last 6 months</span></h3>
        <section id="rec-events-sec">
            <div id="rec-events-pub" class="rec-events-cont1">
                <h2>Public Statements</h2>
                <input type="text" id="search-input-pub" placeholder="Enter politician name..." />
                <div class="rec-events-cont2 pub">
                    <div id="rec-events-data-pub" class="pub"></div>
                </div>
            </div>
            <div id="rec-events-leg" class="rec-events-cont1">
                <h2>Legislative Actions</h2>
                <input type="text" id="search-input-leg" placeholder="Enter politician name..." />
                <div class="rec-events-cont2 leg">
                    <div id="rec-events-data-leg" class="leg"></div>
                </div>
            </div>
        </section>


        <!--
        <section id="index-middle2">
            <h3 class="fancy">Sentiment Moves</h3>
            <div id="cfr-trend">
                <div id="cfr-trend-header">
                    <h2>12 Months Sentiment Trend</h2>
                </div>
                <div id="cfr-trend-content">
                    <div id="cfr-trend-chart1">
                        <canvas id="cfr-trend-chart2"></canvas>
                        <div class="cfr-chart-legend">
                            <div id="cfr-avg-legend" class="cfr-legend">
                                <p class="line-legend"></p>
                                <p class="text-legend">Average</p>
                            </div>
                            <div id="cfr-dems-legend" class="cfr-legend">
                                <p class="line-legend"></p>
                                <p class="text-legend">Dems</p>
                            </div>
                            <div id="cfr-reps-legend" class="cfr-legend">
                                <p class="line-legend"></p>
                                <p class="text-legend"> Reps </p>
                            </div>
                        </div>
                    </div>
                    <div id="cfr-trend-text">
                        <p>The overall sentiment last month has decreased moderately, mainly driven
                            by anti-crypto views expressed by <span class="dems-text">Democrats</span>. Overall,
                            Democrats in Congress have
                            slightly anti-crypto view.</p>
                        </br>
                        </br>
                        <p>The sentiment of <span class="reps-text">Republicans</span> in Congress towards crypto has
                            remained stable over
                            the last month with an overall view of slightly positive.
                        </p>
                    </div>
                </div>
                <script>

                    function generateMonthLabels() {
                        const currentDate = new Date();
                        const monthLabels = [];
                        for (let i = 11; i >= 0; i--) {
                            const newDate = new Date(currentDate);
                            newDate.setMonth(currentDate.getMonth() - (i + 1));
                            monthLabels.push(newDate.toLocaleString('default', { month: 'short' }));
                        }
                        monthLabels[monthLabels.length - 1] += ` ${currentDate.getFullYear()}`;
                        return monthLabels;
                    }

                    const ctx = document.getElementById('cfr-trend-chart2').getContext('2d');

                    function drawBackgroundSections(chart, ctx) {
                        const yScale = chart.scales.y;
                        const xScale = chart.scales.x;
                        const yAxisTop = yScale.getPixelForValue(11);
                        const yAxisBottom = yScale.getPixelForValue(1);
                        const sectionHeight = (yAxisBottom - yAxisTop) / 5;
                        const leftOffset = xScale.getPixelForValue(xScale.min);

                        const colors = [
                            'rgba(242, 169, 0, 0.2)',
                            'rgba(208, 135, 27, 0.2)',
                            'rgba(157, 84, 68, 0.2)',
                            'rgba(106, 33, 108, 0.2)',
                            'rgba(72, 0, 136, 0.2)',
                        ];

                        const sectionTexts = ['Strongly Pro', 'Slightly Pro', 'Neutral', 'Slightly Anti', 'Strongly Anti'];

                        ctx.save();
                        for (let i = 0; i < 5; i++) {
                            const yPos = yAxisTop + i * sectionHeight;

                            // Draw background color
                            ctx.fillStyle = colors[i];
                            ctx.fillRect(leftOffset, yPos, chart.width - leftOffset, sectionHeight);

                            // Draw title
                            ctx.fillStyle = colors[i].replace('0.2', '0.15');
                            ctx.font = '2rem Arial';
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'middle';
                            ctx.fillText(sectionTexts[i], chart.width / 2, yPos + sectionHeight / 2);
                        }
                        ctx.restore();
                    }
                    const chart = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: generateMonthLabels(),
                            datasets: [
                                {
                                    label: 'Dems',
                                    data: [3, 4, 5, 2, 3, 6, 4, 5, 4, 6, 5, 3],
                                    borderColor: '#00AEF3',
                                    backgroundColor: 'transparent',
                                    borderWidth: 3,
                                },
                                {
                                    label: 'Reps',
                                    data: [3, 5, 6, 2, 3, 6, 6, 7, 6, 5, 5, 4],
                                    borderColor: '#E81B23',
                                    backgroundColor: 'transparent',
                                    borderWidth: 3,
                                },
                                {
                                    label: 'Average',
                                    data: [2, 4, 6, 5, 3, 7, 4, 3, 5, 7, 8, 4],
                                    borderColor: 'gray',
                                    borderWidth: 3,
                                },
                            ],

                        },
                        options: {

                            scales: {
                                y: {
                                    type: 'linear',
                                    min: 1,
                                    max: 11,
                                    grid: {
                                        drawBorder: false,
                                        drawOnChartArea: true,
                                        drawTicks: false,
                                        color: (context) => {
                                            if (context.tick.value === 1 || context.tick.value === 6 || context.tick.value === 11) {
                                                return 'rgba(0,0,0,0.2)';
                                            } else {
                                                return 'rgba(0,0,0,0)';
                                            }
                                        },
                                    },
                                    ticks: {
                                        callback: function (value, index) {
                                            if (value === 1) return 'Anti';
                                            if (value === 6) return 'Neutral';
                                            if (value === 11) return 'Pro';
                                            return '';
                                        },
                                        color: function (context) {
                                            if (context.tick.value === 1) return '#480088';
                                            if (context.tick.value === 6) return '#9D5444';
                                            if (context.tick.value === 11) return '#F2a900';
                                            return 'rgba(0, 0, 0, 0)';
                                        },
                                        font: function (context) {
                                            return {
                                                size: 16,
                                                family: 'Arial',
                                                style: 'bold',
                                            };
                                        },
                                        padding: 15,
                                    },
                                },
                                x: {
                                    grid: {
                                        color: 'transparent',
                                    },
                                    ticks: {
                                        font: function (context) {
                                            return {
                                                size: 13,
                                                family: 'Arial',
                                                style: 'bold',
                                            };
                                        },
                                        padding: 12,
                                    },
                                },
                            },
                            plugins: {
                                legend: {
                                    display: false,

                                },
                            },

                        },

                        plugins: [
                            {
                                id: 'backgroundSections',
                                beforeDraw: (chartInstance, _options, _args) => {
                                    const ctx = chartInstance.ctx;
                                    drawBackgroundSections(chartInstance, ctx);
                                },
                            },
                        ],
                    });

                </script>
            </div>
        </section>
        <section id="index3">
            <section id="index3-1">
                <div id="movers-pro-header">
                    <h2>Monthly Pro Movers</h2>
                </div>
                <div id-="pro-movers-tables-sec" class="movers-tables-sec">
                    <div id="pro-movers" class="movers">
                        <div id="pro-movers-table" class="movers-tables">
                            <h3 id="pro-movers-header" class="movers-header">
                                <p class="movers-party"></p>
                                <p class="movers-img">.</p>
                                <p class="movers-name">Name</p>
                                <p class="movers-state">State</p>
                                <p class="movers-rating">Current Sentiment</p>
                                <p class="movers-quote"> Recent Remark</p>
                                <p class="movers-link">Link</p>
                            </h3>
                            <div id="pro-movers-text1" class="movers-text">
                                <div class="movers-party-div">
                                    <p class="movers-party"></p>
                                </div>

                                <div class="movers-img-cont">
                                    <img class="movers-image" src="./assets/BryanSteil.jpeg">
                                </div>
                                <p class="movers-name">Bryan Steil</p>
                                <p class="movers-state">MI</p>
                                <div class="movers-rating-div">
                                    <p class="movers-rating">Slightly Pro</p>
                                </div>
                                <p class="movers-quote">"Congress is developing nonpartisan solutions that promote
                                    responsible
                                    innovation for
                                    #digitalassets. The White House should work with Congress to avoid over-regulation
                                    and
                                    ensure the US leads
                                    the way on #crypto."</p>
                                <a href="espn.com" target="_blank" class="movers-link movers-link-text">Link</a>
                            </div>
                            <div id="pro-movers-text2" class="movers-text">
                                <div class="movers-party-div">
                                    <p class="movers-party"></p>
                                </div>
                                <div class="movers-img-cont">
                                    <img class="movers-image" src="./assets/BryanSteil.jpeg">
                                </div>
                                <p class="movers-name">Bryan Steil</p>
                                <p class="movers-state">WI</p>
                                <div class="movers-rating-div">
                                    <p class="movers-rating">Slightly Pro</p>
                                </div>
                                <p class="movers-quote">"Congress is developing nonpartisan solutions that promote
                                    responsible
                                    innovation for
                                    #digitalassets. The White House should work with Congress to avoid over-regulation
                                    and
                                    ensure the US leads
                                    the way on #crypto."</p>
                                <a href="espn.com" target="_blank" class="movers-link movers-link-text">Link</a>
                            </div>
                            <div id="pro-movers-text3" class="movers-text">
                                <div class="movers-party-div">
                                    <p class="movers-party"></p>
                                </div>
                                <div class="movers-img-cont">
                                    <img class="movers-image" src="./assets/BryanSteil.jpeg">
                                </div>
                                <p class="movers-name">Bryan Steil</p>
                                <p class="movers-state">WI</p>
                                <div class="movers-rating-div">
                                    <p class="movers-rating">Slightly Pro</p>
                                </div>
                                <p class="movers-quote">"Congress is developing nonpartisan solutions that promote
                                    responsible
                                    innovation for
                                    #digitalassets. The White House should work with Congress to avoid over-regulation
                                    and
                                    ensure the US leads
                                    the way on #crypto."</p>
                                <a href="espn.com" target="_blank" class="movers-link movers-link-text">Link</a>
                            </div>
                            <div id="pro-movers-text4" class="movers-text">
                                <div class="movers-party-div">
                                    <p class="movers-party"></p>
                                </div>
                                <div class="movers-img-cont">
                                    <img class="movers-image" src="./assets/BryanSteil.jpeg">
                                </div>
                                <p class="movers-name">Bryan Steil</p>
                                <p class="movers-state">WI</p>
                                <div class="movers-rating-div">
                                    <p class="movers-rating">Slightly Pro</p>
                                </div>
                                <p class="movers-quote">"Congress is developing nonpartisan solutions that promote
                                    responsible
                                    innovation for
                                    #digitalassets. The White House should work with Congress to avoid over-regulation
                                    and
                                    ensure the US leads
                                    the way on #crypto."</p>
                                <a href="espn.com" target="_blank" class="movers-link movers-link-text">Link</a>
                            </div>
                            <div id="pro-movers-text1" class="movers-text">
                                <div class="movers-party-div">
                                    <p class="movers-party"></p>
                                </div>
                                <div class="movers-img-cont">
                                    <img class="movers-image" src="./assets/BryanSteil.jpeg">
                                </div>
                                <p class="movers-name">Bryan Steil</p>
                                <p class="movers-state">WI</p>
                                <div class="movers-rating-div">
                                    <p class="movers-rating">Slightly Pro</p>
                                </div>
                                <p class="movers-quote">"Congress is developing nonpartisan solutions that promote
                                    responsible
                                    innovation for
                                    #digitalassets. The White House should work with Congress to avoid over-regulation
                                    and
                                    ensure the US leads
                                    the way on #crypto."</p>
                                <a href="espn.com" target="_blank" class="movers-link movers-link-text">Link</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="index3-2">
                <div id="movers-anti-header">
                    <h2>Monthly Anti-Movers</h2>
                </div>
                <div id-="anti-movers-tables-sec" class="movers-tables-sec">
                    <div id="anti-movers" class="movers">
                        <div id="anti-movers-table" class="movers-tables">
                            <h3 id="anti-movers-header" class="movers-header">
                                <p class="movers-party"></p>
                                <p class="movers-img">.</p>
                                <p class="movers-name">Name</p>
                                <p class="movers-state">State</p>
                                <p class="movers-rating">Current Sentiment</p>
                                <p class="movers-quote"> Recent Remark</p>
                                <p class="movers-link">Link</p>
                            </h3>
                            <div id="anti-movers-text1" class="movers-text">
                                <div class="movers-party-div">
                                    <p class="movers-party"></p>
                                </div>
                                <div class="movers-img-cont">
                                    <img class="movers-image" src="./assets/BryanSteil.jpeg">
                                </div>
                                <p class="movers-name">Bryan Steil</p>
                                <p class="movers-state">IL</p>
                                <div class="movers-rating-div">
                                    <div class="movers-rating-div1">
                                        <p class="movers-rating">Slightly Pro</p>
                                    </div>
                                </div>
                                <p class="movers-quote">"Congress is developing nonpartisan solutions that promote
                                    responsible
                                    innovation for
                                    #digitalassets. The White House should work with Congress to avoid over-regulation
                                    and
                                    ensure the US leads
                                    the way on #crypto."</p>
                                <a href="espn.com" target="_blank" class="movers-link movers-link-text">Link</a>
                            </div>
                            <div id="anti-movers-text2" class="movers-text">
                                <div class="movers-party-div">
                                    <p class="movers-party"></p>
                                </div>
                                <div class="movers-img-cont">
                                    <img class="movers-image" src="./assets/BryanSteil.jpeg">
                                </div>
                                <p class="movers-name">Bryan Steil</p>
                                <p class="movers-state">IL</p>
                                <div class="movers-rating-div">
                                    <div class="movers-rating-div1">
                                        <p class="movers-rating">Slightly Pro</p>
                                    </div>
                                </div>
                                <p class="movers-quote">"Congress is developing nonpartisan solutions that promote
                                    responsible
                                    innovation for
                                    #digitalassets. The White House should work with Congress to avoid over-regulation
                                    and
                                    ensure the US leads
                                    the way on #crypto."</p>
                                <a href="espn.com" target="_blank" class="movers-link movers-link-text">Link</a>
                            </div>
                            <div id="anti-movers-text3" class="movers-text">
                                <div class="movers-party-div">
                                    <p class="movers-party"></p>
                                </div>
                                <div class="movers-img-cont">
                                    <img class="movers-image" src="./assets/BryanSteil.jpeg">
                                </div>
                                <p class="movers-name">Bryan Steil</p>
                                <p class="movers-state">NY</p>
                                <div class="movers-rating-div">
                                    <div class="movers-rating-div1">
                                        <p class="movers-rating">Slightly Pro</p>
                                    </div>
                                </div>
                                <p class="movers-quote">"Congress is developing nonpartisan solutions that promote
                                    responsible
                                    innovation for
                                    #digitalassets. The White House should work with Congress to avoid over-regulation
                                    and
                                    ensure the US leads
                                    the way on #crypto."</p>
                                <a href="espn.com" target="_blank" class="movers-link movers-link-text">Link</a>
                            </div>
                            <div id="anti-movers-text4" class="movers-text">
                                <div class="movers-party-div">
                                    <p class="movers-party"></p>
                                </div>
                                <div class="movers-img-cont">
                                    <img class="movers-image" src="./assets/BryanSteil.jpeg">
                                </div>
                                <p class="movers-name">Bryan Steil</p>
                                <p class="movers-state">WI</p>
                                <div class="movers-rating-div">
                                    <div class="movers-rating-div1">
                                        <p class="movers-rating">Slightly Pro</p>
                                    </div>
                                </div>
                                <p class="movers-quote">"Congress is developing nonpartisan solutions that promote
                                    responsible
                                    innovation for
                                    #digitalassets. The White House should work with Congress to avoid over-regulation
                                    and
                                    ensure the US leads
                                    the way on #crypto."</p>
                                <a href="espn.com" target="_blank" class="movers-link movers-link-text">Link</a>
                            </div>
                            <div id="anti-movers-text1" class="movers-text">
                                <div class="movers-party-div">
                                    <p class="movers-party"></p>
                                </div>
                                <div class="movers-img-cont">
                                    <img class="movers-image" src="./assets/BryanSteil.jpeg">
                                </div>
                                <p class="movers-name">Bryan Steil</p>
                                <p class="movers-state">WI</p>
                                <div class="movers-rating-div">
                                    <div class="movers-rating-div1">
                                        <p class="movers-rating">Slightly Pro</p>
                                    </div>
                                </div>
                                <p class="movers-quote">"Congress is developing nonpartisan solutions that promote
                                    responsible
                                    innovation for
                                    #digitalassets. The White House should work with Congress to avoid over-regulation
                                    and
                                    ensure the US leads
                                    the way on #crypto."</p>
                                <a href="espn.com" target="_blank" class="movers-link movers-link-text">Link</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>
    </div>
-->
        <!-- contact button & contact section (must include - in all html) -->
        <button id="contact-button">give feedback</button>


        <section class="contact" id="contact">
            <div class="close-button-area" id="close-button-area">
                <button id="close-button" type="submit"><i class="fas fa-window-close"></i></button>
            </div>
            <div class="column right contact-us">

                <div class="text" id="contact-us-text">Give Feedback</div>
                <form id="contactForm">
                    <div class="fields">
                        <div class="field name">
                            <input type="text" name="name" placeholder="*Name" required>
                        </div>
                        <div class="field email">
                            <input type="email" name="email" placeholder="Email (optional)">
                        </div>
                    </div>
                    <div class="field">
                        <input type="text" name="subject" placeholder="*Subject" required>
                    </div>
                    <div class="field textarea">
                        <textarea cols="30" rows="10" name="message" placeholder="*Message..." required></textarea>
                    </div>
                    <div class="button-area" id="send-message-btn-area">
                        <button id="send-message-btn" type="submit">Send <i class="fas fa-paper-plane"></i></button>

                        <div id="responseMessage" style="display:none;"></div>
                    </div>
                </form>
            </div>
        </section>
        <script>
            $(document).ready(function () {
                $('#contactForm').on('submit', function (event) {
                    event.preventDefault();

                    var formData = new FormData(event.target);
                    var request = new XMLHttpRequest();

                    request.onreadystatechange = function () {
                        if (request.readyState === 4) {
                            var responseMessage = $('#responseMessage');
                            if (request.status === 200) {
                                responseMessage.text('Email to CryptoPols sent successfully!');
                                disableFormFields();
                                document.getElementById('send-message-btn').style.display = 'none';
                            } else {
                                responseMessage.text('An error occurred while sending the email. Please try again later.');
                                document.getElementById('send-message-btn').style.display = 'none';
                            }
                            responseMessage.show();
                        }
                    };

                    request.open('POST', 'send_email.php');
                    request.send(formData);
                });

                function disableFormFields() {
                    var formElements = document.getElementById("contactForm").elements;
                    for (var i = 0; i < formElements.length; i++) {
                        if (formElements[i].id !== 'send-message-btn') {
                            formElements[i].disabled = true;
                        }
                    }
                }

                $('#contact-button').on('click', function () {
                    $('.contact').addClass('visible contact-form-scaled');
                    $(this).hide();
                });

                $('#close-button').on('click', function () {
                    $('.contact').removeClass('visible contact-form-scaled');
                    $('#contact-button').show();
                    enableFormFields();
                });


                function enableFormFields() {
                    var formElements = document.getElementById("contactForm").elements;
                    for (var i = 0; i < formElements.length; i++) {
                        formElements[i].disabled = false;
                    }

                    // Reset the form
                    var form = document.getElementById('contactForm');
                    form.reset();

                    // Hide the response message and reset its text
                    var responseMessage = document.getElementById('responseMessage');
                    responseMessage.style.display = 'none';
                    responseMessage.textContent = '';

                    // Show the send button
                    document.getElementById('send-message-btn').style.display = 'block';
                }
            });
        </script>

    <div id="footer-placeholder"></div>
    <script>
        $(function () {
            $("#footer-placeholder").load("./html/footer.html");
        });
    </script>

        <script src="./scripts/state-map.js"></script>
        <script src="./scripts/state-table.js"></script>
        <script src="./scripts/index.js"></script>
        <script src="./scripts/index_events.js"></script>

</body>

</html>


</body>

</html>